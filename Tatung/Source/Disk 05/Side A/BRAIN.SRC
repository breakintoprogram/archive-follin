

ORG 60000
LOAD 49152
LOOP:
LD B,4
LAHT:HALT 
DJNZ LAHT

LD BC,570
LD A,2
OUT (254),A
WAIT:
DEC BC
LD A,B
OR C
JR NZ,WAIT

PITCH:LD A,000
DEC A
AND 7
LD (PITCH+1),A
INC A
INC A
LD (SMD+1),A
LD D,A
LD C,44
FAR1:XOR A
LD (SID+1),A
DEC D
JR NZ,PUT
LD A,16
LD (SID+1),A
SMD:LD D,000
PUT:XOR A
OUT (254),A
SID:LD A,000
OUT (254),A
LD B,64
FAR3:DJNZ FAR3

DEC C
JP NZ,FAR1

LD A,2
OUT (254),A
LD B,20
WAIT2:
DJNZ WAIT2
XOR A
OUT (254),A
LD A,127
IN A,(254)
RRA
JP C,LOOP
RET

END
