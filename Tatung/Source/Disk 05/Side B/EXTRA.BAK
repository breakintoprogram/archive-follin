ORG 50000
LOAD 49152

CONT:EQU 65533
DATA:EQU 49149

LD A,1
LD (MAN),A
LD A,0
LD (NAM),A
RET

EXTRA:LD A,(MAN)
CP 255
RET Z
DEC A
LD (MAN),A
RET NZ
LD A,4
LD (MAN),A
LD BC,CONT
LD A,10
OUT (C),A
LD BC,DATA
LD A,9
OUT (C),A
LD D,0
LD A,(NAM)
LD E,A
INC A
LD (NAM),A
CP 7
JP NZ,MCA
LD A,255
LD (MAN),A
MCA:LD HL,MABLE
ADD HL,DE
LD D,(HL)
LD BC,CONT
LD A,5
OUT (C),A
LD BC,DATA
LD A,(HL)
OUT (C),A
LD BC,CONT
LD A,4
OUT (C),A
LD BC,DATA
XOR A
OUT (C),A
LD BC,CONT
LD A,7
OUT (C),A
LD BC,DATA
LD A,(BYTE)
RES 2,A
OUT (C),A
RET

MANI:LD BC,CONT
LD A,7
OUT (C),A
LD BC,DATA
LD A,(BYTE)
OUT (C),A
RET

MAN:DB 0
BYTE:DB 63
NAM:DB 0

MABLE:DB 119,95,80,71,84,106
DB 255,255

END
