   10 REM Receive files from PC (tx.py)
   20 :
   30 REM Author:       Dean Belfield
   40 REM Created:      16/01/2025
   50 REM Last Updated: 16/01/2025
   60 REM
   70 REM Modinfo:
   80 :
   90 DIM CODE 100
  100 PUT &11,7
  110 :
  120 GOSUB 360
  130 :
  140 INPUT "FILENAME";F$
  150 X%=OPENIN(F$)
  160 IF X%=0 THEN GOTO 220
  170 CLOSE#X%
  180 INPUT "FILE ALREADY EXISTS. OVERWRITE";C$
  190 C$=LEFT$(C$,1):IF C$="Y" OR C$="y" THEN GOTO 220
  200 END
  210 :
  220 X%=OPENOUT(F$)
  230 PRINT "START TRANSFER ON PC"
  240 :
  250 S%=USR RB+((USR RB)*256)
  260 PRINT "LENGTH:";S%
  270 IF S%=0 THEN GOTO 320
  280 FOR I%=1 TO S%
  290 BPUT#X%,USR RB
  300 NEXT
  310 :
  320 CLOSE#X%
  330 PRINT "FINISHED"
  340 END
  350 :
  360 FOR O%=0 TO 2 STEP 2
  370 P%=CODE
  380 [OPT O%
  390 .RB CALL RX
  400 LD L,A
  410 LD H,0
  420 EXX
  430 LD L,0
  440 LD H,L
  450 RET
  460 :
  470 .RX LD A,&27
  480 OUT (&11),A
  490 .RX1 IN A,(&11)
  500 BIT 1,A
  510 JR NZ,RX2
  520 RST &08:DEFB &B5
  530 SUB &1B
  540 JR NZ,RX1
  550 RET
  560 .RX2 IN A,(&10)
  570 PUSH AF
  580 LD A,&07
  590 OUT (&11),A
  600 POP AF
  610 SCF
  620 RET
  630 ]
  640 NEXT
  650 RETURN